#!/usr/bin/env ruby

require "yaml"

def generate_content(title, slug)
  <<~MD
    ---
    title: #{title}
    layout: section
    data_category: #{slug}
    ---
    {% comment %}
      This file is auto generated by running bin/generate_section_pages; it uses the data for sections in _config.yml
    {% endcomment %}
  MD
end

YAML.load(File.read("_config.yml"))["data"]["sections"].each do |section|
  File.write(
    "_section/#{section["value"]}.html",
    generate_content(section["name"], section["value"])
  )
end
