#!/usr/bin/env ruby

require "yaml"

def generate_content(tag)
  <<~MD
    ---
    title: "Tagged: #{tag}"
    layout: tag
    data_tag: #{tag}
    ---
    {% comment %}
      This file is auto generated by running bin/generate_tag_pages; it uses the data for sections in _config.yml
    {% endcomment %}
  MD
end

YAML.load(File.read("_config.yml"))["data"]["tags"].each do |tag|
  File.write(
    "_tagged/#{tag}.html",
    generate_content(tag)
  )
end
